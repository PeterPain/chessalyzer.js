{"version":3,"sources":["webpack://chessalyzer/webpack/universalModuleDefinition","webpack://chessalyzer/webpack/bootstrap","webpack://chessalyzer/./src/BaseTracker.js","webpack://chessalyzer/./src/ChessBoard.js","webpack://chessalyzer/./src/Chessalyzer.js","webpack://chessalyzer/./src/GameProcessor.js","webpack://chessalyzer/./src/GameTracker.js","webpack://chessalyzer/./src/PieceTracker.js","webpack://chessalyzer/./src/TileTracker.js","webpack://chessalyzer/./src/index.js","webpack://chessalyzer/external \"events\"","webpack://chessalyzer/external \"fs\"","webpack://chessalyzer/external \"line-by-line\"","webpack://chessalyzer/external \"perf_hooks\""],"names":["require","performance","BaseTracker","profilingActive","time","t0","track","undefined","TypeError","now","pawnTemplate","pieceTemplate","ChessPiece","name","color","ChessBoard","tiles","Array","row","currRow","col","defaultTiles","map","arr","slice","kingPos","w","b","moveData","from","to","castles","castle","player","takes","pos","promotesTo","san","substring","move","scrKingCol","tarKingCol","srcRookCol","tarRookCol","rowArray","piece","push","console","log","fs","Chessalyzer","dataStore","gameProcessor","analyzers","game","analyzer","path","cfg","refreshRate","Promise","resolve","processPGN","then","t1","tdiff","Math","round","mps","cntMoves","cntGames","reset","JSON","parse","stringify","bank","writeFile","err","error","readFileSync","square","fun","optData","coords","algebraicToCoords","max","min","i","dataRow","j","bank1","bank2","data0","generateHeatmap","data1","a","list","val","toFixed","abs","sort","LineByLineReader","EventEmitter","files","MoveData","GameProcessor","board","currentMove","activePlayer","config","checkConfig","cntGameAnalyers","length","reject","lr","skipEmptyLines","processLine","line","startsWith","hasFilter","key","match","value","moves","replace","split","filter","processGame","emit","close","end","resume","on","pause","parseMove","forEach","rawMove","token","preProcess","toLowerCase","pawnMove","pieceMove","moveSan","direction","offset","includes","parseInt","indexOf","tarRow","tarCol","mustBeInRow","mustBeInCol","findPiece","findLine","findDiag","findKnight","printPosition","obstructed1","obstructed2","row1","col1","row2","col2","checkCheck","opColor","king","isInCheck","diff","checkFor","srcTilePiece","tarTilePiece","obstructed","Object","prototype","hasOwnProperty","call","Infinity","temp","GameTracker","wins","startTimer","Result","endTimer","PieceTracker","keys","processTakes","takingPiece","takenPiece","TileStats","movedTo","wasOn","killedOn","wasKilledOn","TileTracker","processMove","rook","opPlayer"],"mappings":"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","file":"chessalyzer.js","sourcesContent":["(function webpackUniversalModuleDefinition(root, factory) {\n\tif(typeof exports === 'object' && typeof module === 'object')\n\t\tmodule.exports = factory();\n\telse if(typeof define === 'function' && define.amd)\n\t\tdefine(\"chessalyzer\", [], factory);\n\telse if(typeof exports === 'object')\n\t\texports[\"chessalyzer\"] = factory();\n\telse\n\t\troot[\"chessalyzer\"] = factory();\n})(global, function() {\nreturn "," \t// The module cache\n \tvar installedModules = {};\n\n \t// The require function\n \tfunction __webpack_require__(moduleId) {\n\n \t\t// Check if module is in cache\n \t\tif(installedModules[moduleId]) {\n \t\t\treturn installedModules[moduleId].exports;\n \t\t}\n \t\t// Create a new module (and put it into the cache)\n \t\tvar module = installedModules[moduleId] = {\n \t\t\ti: moduleId,\n \t\t\tl: false,\n \t\t\texports: {}\n \t\t};\n\n \t\t// Execute the module function\n \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n \t\t// Flag the module as loaded\n \t\tmodule.l = true;\n\n \t\t// Return the exports of the module\n \t\treturn module.exports;\n \t}\n\n\n \t// expose the modules object (__webpack_modules__)\n \t__webpack_require__.m = modules;\n\n \t// expose the module cache\n \t__webpack_require__.c = installedModules;\n\n \t// define getter function for harmony exports\n \t__webpack_require__.d = function(exports, name, getter) {\n \t\tif(!__webpack_require__.o(exports, name)) {\n \t\t\tObject.defineProperty(exports, name, { enumerable: true, get: getter });\n \t\t}\n \t};\n\n \t// define __esModule on exports\n \t__webpack_require__.r = function(exports) {\n \t\tif(typeof Symbol !== 'undefined' && Symbol.toStringTag) {\n \t\t\tObject.defineProperty(exports, Symbol.toStringTag, { value: 'Module' });\n \t\t}\n \t\tObject.defineProperty(exports, '__esModule', { value: true });\n \t};\n\n \t// create a fake namespace object\n \t// mode & 1: value is a module id, require it\n \t// mode & 2: merge all properties of value into the ns\n \t// mode & 4: return value when already ns object\n \t// mode & 8|1: behave like require\n \t__webpack_require__.t = function(value, mode) {\n \t\tif(mode & 1) value = __webpack_require__(value);\n \t\tif(mode & 8) return value;\n \t\tif((mode & 4) && typeof value === 'object' && value && value.__esModule) return value;\n \t\tvar ns = Object.create(null);\n \t\t__webpack_require__.r(ns);\n \t\tObject.defineProperty(ns, 'default', { enumerable: true, value: value });\n \t\tif(mode & 2 && typeof value != 'string') for(var key in value) __webpack_require__.d(ns, key, function(key) { return value[key]; }.bind(null, key));\n \t\treturn ns;\n \t};\n\n \t// getDefaultExport function for compatibility with non-harmony modules\n \t__webpack_require__.n = function(module) {\n \t\tvar getter = module && module.__esModule ?\n \t\t\tfunction getDefault() { return module['default']; } :\n \t\t\tfunction getModuleExports() { return module; };\n \t\t__webpack_require__.d(getter, 'a', getter);\n \t\treturn getter;\n \t};\n\n \t// Object.prototype.hasOwnProperty.call\n \t__webpack_require__.o = function(object, property) { return Object.prototype.hasOwnProperty.call(object, property); };\n\n \t// __webpack_public_path__\n \t__webpack_require__.p = \"\";\n\n\n \t// Load entry module and return exports\n \treturn __webpack_require__(__webpack_require__.s = \"./src/index.js\");\n","const { performance } = require('perf_hooks');\n\nclass BaseTracker {\n\tconstructor() {\n\t\tthis.profilingActive = false;\n\t\tthis.time = 0;\n\t\tthis.t0 = 0;\n\n\t\tif (this.track === undefined) {\n\t\t\tthrow new TypeError(\n\t\t\t\t'Your analyzer must implement a track() method!'\n\t\t\t);\n\t\t}\n\t}\n\n\tstartTimer() {\n\t\tif (this.profilingActive) this.t0 = performance.now();\n\t}\n\n\tendTimer() {\n\t\tif (this.profilingActive) this.time += performance.now() - this.t0;\n\t}\n}\n\nexport default BaseTracker;\n","const pawnTemplate = ['Pa', 'Pb', 'Pc', 'Pd', 'Pe', 'Pf', 'Pg', 'Ph'];\nconst pieceTemplate = ['Ra', 'Nb', 'Bc', 'Qd', 'Ke', 'Bf', 'Ng', 'Rh'];\n\nclass ChessPiece {\n\tconstructor(name, color) {\n\t\tthis.name = name;\n\t\tthis.color = color;\n\t}\n}\n\nclass ChessBoard {\n\tconstructor() {\n\t\tthis.tiles = new Array(8);\n\t\tfor (let row = 0; row < 8; row += 1) {\n\t\t\tconst currRow = new Array(8);\n\t\t\tfor (let col = 0; col < 8; col += 1) {\n\t\t\t\tcurrRow[col] = null;\n\t\t\t\tconst color = row === 0 || row === 1 ? 'b' : 'w';\n\n\t\t\t\t// init pieces\n\t\t\t\tif (row === 0 || row === 7) {\n\t\t\t\t\tcurrRow[col] = new ChessPiece(pieceTemplate[col], color);\n\t\t\t\t} else if (row === 1 || row === 6) {\n\t\t\t\t\tcurrRow[col] = new ChessPiece(pawnTemplate[col], color);\n\t\t\t\t}\n\t\t\t}\n\t\t\tthis.tiles[row] = currRow;\n\t\t}\n\t\tthis.defaultTiles = this.tiles.map((arr) => arr.slice());\n\t\tthis.kingPos = { w: [7, 4], b: [0, 4] };\n\t}\n\n\tmove(moveData) {\n\t\tconst { from } = moveData;\n\t\tconst { to } = moveData;\n\n\t\t// castles\n\t\tif (moveData.castles !== '') {\n\t\t\tthis.castle(moveData.castles, moveData.player);\n\n\t\t\t// moves/takes\n\t\t} else if (from[0] !== -1) {\n\t\t\t// takes\n\t\t\tif ('pos' in moveData.takes) {\n\t\t\t\tthis.tiles[moveData.takes.pos[0]][moveData.takes.pos[1]] = null;\n\t\t\t}\n\t\t\t// moves\n\t\t\tthis.tiles[to[0]][to[1]] = this.tiles[from[0]][from[1]];\n\t\t\tthis.tiles[from[0]][from[1]] = null;\n\n\t\t\tif (moveData.promotesTo !== '') {\n\t\t\t\tthis.tiles[to[0]][to[1]] = new ChessPiece(\n\t\t\t\t\tmoveData.promotesTo,\n\t\t\t\t\tmoveData.player\n\t\t\t\t);\n\t\t\t}\n\n\t\t\tif (moveData.san.substring(0, 1) === 'K') {\n\t\t\t\tthis.kingPos[moveData.player] = to;\n\t\t\t}\n\t\t}\n\t}\n\n\tcastle(move, player) {\n\t\tconst row = player === 'w' ? 7 : 0;\n\t\tconst scrKingCol = 4;\n\t\tlet tarKingCol = 6;\n\t\tlet srcRookCol = 7;\n\t\tlet tarRookCol = 5;\n\n\t\tif (move === 'O-O-O') {\n\t\t\ttarKingCol = 2;\n\t\t\ttarRookCol = 3;\n\t\t\tsrcRookCol = 0;\n\t\t}\n\t\tthis.tiles[row][tarKingCol] = this.tiles[row][scrKingCol];\n\t\tthis.tiles[row][tarRookCol] = this.tiles[row][srcRookCol];\n\t\tthis.tiles[row][scrKingCol] = null;\n\t\tthis.tiles[row][srcRookCol] = null;\n\t\tthis.kingPos[player] = [row, tarKingCol];\n\t}\n\n\treset() {\n\t\tthis.tiles = this.defaultTiles.map((arr) => arr.slice());\n\t\tthis.kingPos = { w: [7, 4], b: [0, 4] };\n\t}\n\n\t/** Prints the current board position to the console. */\n\tprintPosition() {\n\t\tfor (let row = 0; row < 8; row += 1) {\n\t\t\tconst rowArray = [];\n\t\t\tfor (let col = 0; col < 8; col += 1) {\n\t\t\t\tconst piece = this.tiles[row][col];\n\t\t\t\tif (piece !== null) {\n\t\t\t\t\trowArray.push(piece.color + piece.name);\n\t\t\t\t} else {\n\t\t\t\t\trowArray.push('...');\n\t\t\t\t}\n\t\t\t}\n\t\t\tconsole.log(rowArray);\n\t\t}\n\t}\n}\n\nexport default ChessBoard;\n","import GameProcessor from './GameProcessor';\n\nimport PieceTracker from './PieceTracker';\nimport TileTracker from './TileTracker';\nimport GameTracker from './GameTracker';\n\nconst { performance } = require('perf_hooks');\n\nconst fs = require('fs');\n\nconst pawnTemplate = ['Pa', 'Pb', 'Pc', 'Pd', 'Pe', 'Pf', 'Pg', 'Ph'];\nconst pieceTemplate = ['Ra', 'Nb', 'Bc', 'Qd', 'Ke', 'Bf', 'Ng', 'Rh'];\n\n/**\n * @typedef {Object} cfg\n * @property {Function} filter - Descr\n * @property {Number} cntGames - Descr\n * @property {Boolean} split - Descr\n */\n\n/** Main class for batch processing and generating heat maps */\nclass Chessalyzer {\n\tconstructor() {\n\t\t/**\n\t\t * Contains the tracked data of the processed PGN files. Has two different banks for\n\t\t * heat map comparison. Each object contains the following keys:\n\t\t * <ul>\n\t\t * <li>data: {cntMoves, cntGames}. Information about the count of processed moves and games</li>\n\t\t * <li>tiles: 8x8 array of {@link ChessTile}s.</li>\n\t\t * </ul>\n\t\t * @member {Object[]}\n\t\t */\n\t\tthis.dataStore = new Array(2);\n\t\t/**\n\t\t * Does the analysis part\n\t\t * @private\n\t\t * @member {GameProcessor}\n\t\t */\n\t\tthis.gameProcessor = new GameProcessor();\n\n\t\tthis.analyzers = { move: [], game: [] };\n\t\tthis.analyzers.move.push(new PieceTracker());\n\t\tthis.analyzers.move.push(new TileTracker());\n\t\tthis.analyzers.game.push(new GameTracker());\n\t}\n\n\taddMoveAnalyzer(analyzer) {\n\t\tthis.analyzers.move.push(analyzer);\n\t}\n\n\taddGameAnalyzer(analyzer) {\n\t\tthis.analyzers.game.push(analyzer);\n\t}\n\n\t/**\n\t * Starts the batch processing for the selected file\n\t * @param {String} path - Path to the PGN file that should be analyzed\n\t * @param {Object} [cfg = {}]\n\t * @param {Function} [cfg.filter = ()=>true] - Filter function for selecting games\n\t * @param {Number} [cfg.cntGames = Infinite ] - Max amount of games to process\n\t * @param {Number} [bank = 0] - The data bank the results shall be saved to\n\t * @param {Number} [refreshRate = 250] - Defines how often the current status of the\n\t *  analysis shall be exposed. Every number of processed games an event is emitted\n\t *  containing the current number of processed games. The event can be handled via\n\t *  \"chessalyzer.gameProcessor.on('status', function(gameCnt) {// do handling here});\",\n\t *  e.g. to update an UI.\n\t * @returns {Promise} Promise that contains the number of processed games when finished\n\t */\n\tstartBatch(path, cfg = {}, refreshRate = 250) {\n\t\treturn new Promise((resolve) => {\n\t\t\tconst t0 = performance.now();\n\t\t\tthis.gameProcessor\n\t\t\t\t.processPGN(path, cfg, refreshRate, this.analyzers)\n\t\t\t\t.then(() => {\n\t\t\t\t\tconst t1 = performance.now();\n\t\t\t\t\tconst tdiff = Math.round(t1 - t0) / 1000;\n\t\t\t\t\tconst mps = Math.round(this.gameProcessor.cntMoves / tdiff);\n\t\t\t\t\tconsole.log(\n\t\t\t\t\t\t`${this.gameProcessor.cntGames} games (${\n\t\t\t\t\t\t\tthis.gameProcessor.cntMoves\n\t\t\t\t\t\t} moves) processed in ${tdiff}s (${mps} moves/s)`\n\t\t\t\t\t);\n\t\t\t\t\tthis.gameProcessor.reset();\n\t\t\t\t\tthis.dataStore[0] = JSON.parse(\n\t\t\t\t\t\tJSON.stringify(this.analyzers)\n\t\t\t\t\t);\n\t\t\t\t\tresolve();\n\t\t\t\t});\n\t\t});\n\t}\n\n\t/**\n\t * Saves a completed batch run to a JSON file\n\t * @param {String} path - Path the data file shall be saved to\n\t * @param {Number} [bank = 0] - The data bank the data shall be taken from\n\t */\n\tsaveData(path, bank = 0) {\n\t\tfs.writeFile(path, JSON.stringify(this.dataStore[bank]), (err) => {\n\t\t\tif (err) {\n\t\t\t\tconsole.error(err);\n\t\t\t\treturn;\n\t\t\t}\n\t\t\tconsole.log('File has been created');\n\t\t});\n\t}\n\n\t/**\n\t * Loads the stats of a previous batch run (JSON) to a data bank\n\t * @param {String} path - Path the data file shall be loaded from\n\t * @param {Number} [bank = 0] - The data bank the data shall be loaded to.\n\t * @returns {Number} Count of loaded games\n\t */\n\tloadData(path, bank) {\n\t\tthis.dataStore[bank] = JSON.parse(fs.readFileSync(path, 'utf8'));\n\t\tconsole.log(`File '${path}' has been loaded to bank ${bank}.`);\n\t\treturn this.dataStore[bank].cntGames;\n\t}\n\n\t/**\n\t * Generates a heatmap out of the tracked data.\n\t * @param {Number} bank - The data bank the data shall be taken from\n\t * @param {String} square - The square the data shall be generated for. For example, if you\n\t * wanted to know how often a specific piece was on a specific tile, you would pass the\n\t * identifier of the tile to the function, e.g. \"a2\"\n\t * @param {Function} fun - The evaluation function that generates the heatmap out of the\n\t * saved data. This function gets passed the following arguments:\n\t * <ol>\n\t * <li>The complete data stored in the chosen bank. See the member description of the dataStore\n\t * member to see which data is available.</li>\n\t * <li>The coords of the tile passed as the 'square' argument.</li>\n\t * <li>The current coordinates of the tile the data should be generated for.\n\t * The function must return a Number with the heat map value for the square passed as the\n\t * third argument.</li>\n\t * <li>An optional data field, you passed for 'optData'</li>\n\t * </ol>\n\t * See ./src/exampleHeatmapConfig for examples of such a function.\n\t * @param {} optData - Optional data you may need in your eval function\n\t * @returns {Array} Array with 3 entries:\n\t * <ol>\n\t * <li>8x8 Array containing the heat map values for each tile</li>\n\t * <li>The minimum value in the heatmap.</li>\n\t * <li>The maximum value in the heatmap.</li>\n\t * </ol>\n\t */\n\tgenerateHeatmap(bank, square, fun, optData) {\n\t\tconst coords = GameProcessor.algebraicToCoords(square);\n\t\tconst map = [];\n\t\tlet max = 0;\n\t\tlet min = 1000000;\n\n\t\tfor (let i = 0; i < 8; i += 1) {\n\t\t\tconst dataRow = new Array(8);\n\t\t\tfor (let j = 0; j < 8; j += 1) {\n\t\t\t\tdataRow[j] = fun(this.dataStore[bank], coords, [i, j], optData);\n\t\t\t\tif (dataRow[j] > max) max = dataRow[j];\n\t\t\t\tif (dataRow[j] < min) min = dataRow[j];\n\t\t\t}\n\t\t\tmap.push(dataRow);\n\t\t}\n\n\t\treturn [map, min, max];\n\t}\n\n\t/**\n\t * Generates a comparison heatmap out of the tracked data. There needs to data in both\n\t * banks you pass as bank1 and bank2 params. The heatmap for both banks are calculated\n\t * and then the relative differences between both banks are calculated. For example,\n\t * if the heatmap value for \"a1\" of bank1 is 10 and the value of bank2 is 5, the returned\n\t * value for \"a1\" would be 100% ([[10/5] -1] *100).\n\t * @param {String} square - The square the data shall be generated for.\n\t * @param {Function} fun - The evaluation function that generates the heatmap out of the\n\t * saved data. See {@link Chessalyzer#generateHeatmap} for a more detailed description.\n\t * @param {Number} [bank1 = 0] - Bank number of dataset 1\n\t * @param {Number} [bank2 = 1] - Bank number of dataset 2\n\t * @param {} optData - Optional data you may need in your eval function\n\t * @returns {Array} Array with 3 entries:\n\t * <ol>\n\t * <li>8x8 Array containing the heat map values for each tile</li>\n\t * <li>The minimum value in the heatmap.</li>\n\t * <li>The maximum value in the heatmap.</li>\n\t * </ol>\n\t */\n\tgenerateComparisonHeatmap(square, fun, bank1 = 0, bank2 = 1, optData) {\n\t\tconst map = [];\n\t\tlet max = 0;\n\t\tlet min = 100000;\n\n\t\t// comparison heatmap\n\t\tconst data0 = this.generateHeatmap(bank1, square, fun, optData);\n\t\tconst data1 = this.generateHeatmap(bank2, square, fun, optData);\n\n\t\tfor (let i = 0; i < 8; i += 1) {\n\t\t\tconst dataRow = new Array(8);\n\t\t\tfor (let j = 0; j < 8; j += 1) {\n\t\t\t\tconst a = data0[0][i][j];\n\t\t\t\tconst b = data1[0][i][j];\n\t\t\t\tif (a === 0 || b === 0) dataRow[j] = 0;\n\t\t\t\telse dataRow[j] = (a >= b ? a / b - 1 : -b / a + 1) * 100;\n\n\t\t\t\tif (dataRow[j] > max) max = dataRow[j];\n\t\t\t\tif (dataRow[j] < min) min = dataRow[j];\n\t\t\t}\n\t\t\tmap.push(dataRow);\n\t\t}\n\n\t\treturn [map, min, max];\n\t}\n\n\tstatic generateList(map) {\n\t\tconst list = [];\n\t\tfor (let i = 0; i < 8; i += 1) {\n\t\t\tfor (let j = 0; j < 8; j += 1) {\n\t\t\t\tlet val = map[i][j];\n\t\t\t\tval = val.toFixed(2);\n\t\t\t\tif (Math.abs(val) > 0.001) {\n\t\t\t\t\tif (i === 0) list.push([`b${pieceTemplate[j]}`, val]);\n\t\t\t\t\telse if (i === 1) list.push([`b${pawnTemplate[j]}`, val]);\n\t\t\t\t\telse if (i === 6) list.push([`w${pawnTemplate[j]}`, val]);\n\t\t\t\t\telse if (i === 7) list.push([`w${pieceTemplate[j]}`, val]);\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t\tlist.sort((a, b) => b[1] - a[1]);\n\t\treturn list;\n\t}\n}\n\nexport default Chessalyzer;\n","import ChessBoard from './ChessBoard';\n\nconst LineByLineReader = require('line-by-line');\nconst EventEmitter = require('events');\n\nconst files = 'abcdefgh';\n\nclass MoveData {\n\tconstructor() {\n\t\tthis.san = '';\n\t\tthis.player = '';\n\t\tthis.piece = '';\n\t\tthis.castles = '';\n\t\tthis.takes = {};\n\t\tthis.promotesTo = '';\n\t\tthis.from = [-1, -1];\n\t\tthis.to = [-1, -1];\n\t}\n}\n\n/**\n * Class that processes games.\n */\nclass GameProcessor extends EventEmitter {\n\tconstructor() {\n\t\tsuper();\n\t\tthis.board = new ChessBoard();\n\t\tthis.currentMove = new MoveData();\n\t\tthis.activePlayer = 0;\n\t\tthis.cntMoves = 0;\n\t\tthis.cntGames = 0;\n\t}\n\n\tstatic checkConfig(config) {\n\t\tconst cfg = {};\n\t\tcfg.hasFilter = Object.prototype.hasOwnProperty.call(config, 'filter');\n\t\tcfg.filter = cfg.hasFilter ? config.filter : () => true;\n\n\t\tcfg.cntGames = Object.prototype.hasOwnProperty.call(config, 'cntGames')\n\t\t\t? config.cntGames\n\t\t\t: Infinity;\n\n\t\t// TODO: currently without function\n\t\tcfg.split = Object.prototype.hasOwnProperty.call(config, 'split')\n\t\t\t? config.split\n\t\t\t: false;\n\n\t\treturn cfg;\n\t}\n\n\tprocessPGN(path, config, refreshRate, analyzers) {\n\t\tconst cfg = GameProcessor.checkConfig(config);\n\t\tconst cntGameAnalyers = analyzers.game.length;\n\n\t\treturn new Promise((resolve, reject) => {\n\t\t\tconst lr = new LineByLineReader(path, { skipEmptyLines: true });\n\t\t\tlet game = {};\n\n\t\t\t// process current line\n\t\t\tconst processLine = (line) => {\n\t\t\t\t// data tag\n\t\t\t\tif (\n\t\t\t\t\tline.startsWith('[') &&\n\t\t\t\t\t(cfg.hasFilter || cntGameAnalyers > 0)\n\t\t\t\t) {\n\t\t\t\t\tconst key = line.match(/\\[(.*?)\\s/)[1];\n\t\t\t\t\tconst value = line.match(/\"(.*?)\"/)[1];\n\n\t\t\t\t\tgame[key] = value;\n\n\t\t\t\t\t// moves\n\t\t\t\t} else if (line.startsWith('1')) {\n\t\t\t\t\tgame.moves = line\n\t\t\t\t\t\t.replace(/\\{(.*?)\\}\\s/g, '')\n\t\t\t\t\t\t.replace(/\\d+\\.+\\s/g, '')\n\t\t\t\t\t\t.replace(' *', '')\n\t\t\t\t\t\t.split(' ');\n\n\t\t\t\t\tif (cfg.filter(game) || !cfg.hasFilter) {\n\t\t\t\t\t\tthis.processGame(game, analyzers);\n\t\t\t\t\t}\n\n\t\t\t\t\t// emit event\n\t\t\t\t\tif (this.cntGames % refreshRate === 0) {\n\t\t\t\t\t\tthis.emit('status', this.cntGames);\n\t\t\t\t\t}\n\n\t\t\t\t\tgame = {};\n\t\t\t\t}\n\t\t\t\tif (this.cntGames >= cfg.cntGames) {\n\t\t\t\t\tlr.close();\n\t\t\t\t\tlr.end();\n\t\t\t\t} else {\n\t\t\t\t\tlr.resume();\n\t\t\t\t}\n\t\t\t};\n\n\t\t\tlr.on('error', (err) => {\n\t\t\t\tconsole.log(err);\n\t\t\t\treject();\n\t\t\t});\n\n\t\t\tlr.on('line', (line) => {\n\t\t\t\t// pause emitting of lines...\n\t\t\t\tlr.pause();\n\n\t\t\t\tprocessLine(line);\n\t\t\t});\n\n\t\t\tlr.on('end', () => {\n\t\t\t\tconsole.log('Read entire file.');\n\t\t\t\tresolve();\n\t\t\t});\n\t\t});\n\t}\n\n\tprocessGame(game, analyzers) {\n\t\tconst { moves } = game;\n\n\t\tfor (let i = 0; i < moves.length; i += 1) {\n\t\t\tthis.activePlayer = i % 2;\n\n\t\t\t// fetch move data into this.currentMove\n\t\t\tthis.parseMove(moves[i]);\n\n\t\t\t// move based analyzers\n\t\t\tanalyzers.move.forEach((a) => {\n\t\t\t\ta.track(this.currentMove);\n\t\t\t});\n\n\t\t\tthis.board.move(this.currentMove);\n\t\t}\n\t\tthis.cntMoves += moves.length - 1; // don't count result (e.g. 1-0)\n\t\tthis.cntGames += 1;\n\t\tthis.board.reset();\n\n\t\t// game based analyzers\n\t\tanalyzers.game.forEach((a) => {\n\t\t\ta.track(game);\n\t\t});\n\t}\n\n\treset() {\n\t\tthis.board.reset();\n\t\tthis.activePlayer = 0;\n\t}\n\n\t/**\n\t * Parses a move in string format to board coordinates. Wrapper function for\n\t *  the different move algorithms.\n\t * @param {string} rawMove The move to be parsed, e.g. 'Ne5+'.\n\t */\n\tparseMove(rawMove) {\n\t\tconst token = rawMove.substring(0, 1);\n\t\tconst move = GameProcessor.preProcess(rawMove);\n\n\t\tthis.currentMove = new MoveData();\n\t\tthis.currentMove.san = rawMove;\n\t\tthis.currentMove.player = this.activePlayer === 0 ? 'w' : 'b';\n\n\t\t// game end on '1-0', '0-1' or '1/2-1/2' (check for digit as first char)\n\t\tif (token.match(/\\d/) === null) {\n\t\t\tif (token.toLowerCase() === token) {\n\t\t\t\tthis.pawnMove(move);\n\t\t\t} else if (token !== 'O') {\n\t\t\t\tthis.pieceMove(move);\n\t\t\t} else {\n\t\t\t\tthis.currentMove.castles = move;\n\t\t\t}\n\t\t}\n\t}\n\n\t/**\n\t * Returns the board coordinates for the move if it is a pawn move.\n\t * @param {string} moveSan The move to be parsed, e.g. 'e5'.\n\t */\n\tpawnMove(moveSan) {\n\t\tconst direction = -2 * (this.activePlayer % 2) + 1;\n\t\tconst from = [];\n\t\tconst to = [];\n\t\tlet move = moveSan;\n\t\tlet offset = 0;\n\n\t\t// takes\n\t\tif (move.includes('x')) {\n\t\t\tmove = move.replace('x', '');\n\n\t\t\tto[0] = 8 - parseInt(move.substring(2, 3), 10);\n\t\t\tto[1] = files.indexOf(move.substring(1, 2));\n\t\t\tfrom[0] = to[0] + direction;\n\t\t\tfrom[1] = files.indexOf(move.substring(0, 1));\n\n\t\t\t// en passant\n\t\t\tif (this.board.tiles[to[0]][to[1]] === null) {\n\t\t\t\toffset = this.currentMove.player === 'w' ? 1 : -1;\n\t\t\t}\n\n\t\t\tthis.currentMove.takes.piece = this.board.tiles[to[0] + offset][\n\t\t\t\tto[1]\n\t\t\t].name;\n\t\t\tthis.currentMove.takes.pos = [to[0] + offset, to[1]];\n\n\t\t\t// moves\n\t\t} else {\n\t\t\tconst tarRow = 8 - parseInt(move.substring(1, 2), 10);\n\t\t\tconst tarCol = files.indexOf(move.substring(0, 1));\n\n\t\t\tfrom[1] = tarCol;\n\t\t\tto[0] = tarRow;\n\t\t\tto[1] = tarCol;\n\t\t\tfor (let i = tarRow + direction; i < 8 && i >= 0; i += direction) {\n\t\t\t\tif (this.board.tiles[i][tarCol] !== null) {\n\t\t\t\t\tif (this.board.tiles[i][tarCol].name.includes('P')) {\n\t\t\t\t\t\tfrom[0] = i;\n\t\t\t\t\t\tbreak;\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\n\t\tthis.currentMove.to = to;\n\t\tthis.currentMove.from = from;\n\t\tthis.currentMove.piece = this.board.tiles[from[0]][from[1]].name;\n\n\t\t// promotes\n\t\tif (move.includes('=')) {\n\t\t\tthis.currentMove.promotesTo = move.substring(\n\t\t\t\tmove.length - 1,\n\t\t\t\tmove.length\n\t\t\t);\n\t\t}\n\t}\n\n\t/**\n\t * Returns the board coordinates for a piece (!= pawn) move.\n\t * @param {string} moveSan The move to be parsed, e.g. 'Be3'.\n\t */\n\tpieceMove(moveSan) {\n\t\tlet move = moveSan;\n\t\tlet takes = false;\n\t\tlet coords = { from: [], to: [] };\n\t\tconst token = move.substring(0, 1);\n\n\t\t// remove token\n\t\tmove = move.substring(1, move.length);\n\n\t\t// takes\n\t\tif (move.includes('x')) {\n\t\t\ttakes = true;\n\t\t\tmove = move.replace('x', '');\n\t\t}\n\n\t\t// e.g. Re3f5\n\t\tif (move.length === 4) {\n\t\t\tcoords.from[0] = 8 - parseInt(move.substring(1, 2), 10);\n\t\t\tcoords.from[1] = files.indexOf(move.substring(0, 1));\n\t\t\tcoords.to[0] = 8 - parseInt(move.substring(3, 4), 10);\n\t\t\tcoords.to[1] = files.indexOf(move.substring(2, 3));\n\n\t\t\t// e.g. Ref3\n\t\t} else if (move.length === 3) {\n\t\t\tconst tarRow = 8 - parseInt(move.substring(2, 3), 10);\n\t\t\tconst tarCol = files.indexOf(move.substring(1, 2));\n\t\t\tlet mustBeInRow = -1;\n\t\t\tlet mustBeInCol = -1;\n\n\t\t\t// file is specified\n\t\t\tif (files.indexOf(move.substring(0, 1)) >= 0) {\n\t\t\t\tmustBeInCol = files.indexOf(move.substring(0, 1));\n\n\t\t\t\t// rank is specified\n\t\t\t} else {\n\t\t\t\tmustBeInRow = 8 - parseInt(move.substring(0, 1), 10);\n\t\t\t}\n\t\t\tcoords = this.findPiece(\n\t\t\t\ttarRow,\n\t\t\t\ttarCol,\n\t\t\t\tmustBeInRow,\n\t\t\t\tmustBeInCol,\n\t\t\t\ttoken\n\t\t\t);\n\n\t\t\t// e.g. Rf3\n\t\t} else {\n\t\t\tconst tarRow = 8 - parseInt(move.substring(1, 2), 10);\n\t\t\tconst tarCol = files.indexOf(move.substring(0, 1));\n\t\t\tcoords = this.findPiece(tarRow, tarCol, -1, -1, token);\n\t\t}\n\n\t\t// set move data\n\t\tthis.currentMove.from = coords.from;\n\t\tthis.currentMove.to = coords.to;\n\t\tthis.currentMove.piece = this.board.tiles[coords.from[0]][\n\t\t\tcoords.from[1]\n\t\t].name;\n\n\t\tif (takes) {\n\t\t\tthis.currentMove.takes.piece = this.board.tiles[\n\t\t\t\tthis.currentMove.to[0]\n\t\t\t][this.currentMove.to[1]].name;\n\t\t\tthis.currentMove.takes.pos = this.currentMove.to;\n\t\t}\n\t}\n\n\t/**\n\t * Wrapper function for different piece search algorithms.\n\t * @param {number} tarRow Target row for piece move.\n\t * @param {number} tarCol Target column for piece move.\n\t * @param {number} mustBeInRow Moving piece must be in this row. '-1' if unknown.\n\t * @param {number} mustBeInCol Moving piece must be in this column. '-1' if unknown.\n\t * @param {string} token Moving piece must be of this type, e.g 'R'.\n\t * @returns {Object}\n\t */\n\tfindPiece(tarRow, tarCol, mustBeInRow, mustBeInCol, token) {\n\t\tlet move;\n\n\t\tif (token === 'R') {\n\t\t\tmove = this.findLine(\n\t\t\t\ttarRow,\n\t\t\t\ttarCol,\n\t\t\t\tmustBeInRow,\n\t\t\t\tmustBeInCol,\n\t\t\t\ttoken\n\t\t\t);\n\t\t} else if (token === 'B') {\n\t\t\tmove = this.findDiag(\n\t\t\t\ttarRow,\n\t\t\t\ttarCol,\n\t\t\t\tmustBeInRow,\n\t\t\t\tmustBeInCol,\n\t\t\t\ttoken\n\t\t\t);\n\t\t} else if (token === 'Q' || token === 'K') {\n\t\t\tmove = this.findDiag(\n\t\t\t\ttarRow,\n\t\t\t\ttarCol,\n\t\t\t\tmustBeInRow,\n\t\t\t\tmustBeInCol,\n\t\t\t\ttoken\n\t\t\t);\n\t\t\tif (move.from[0] === -1) {\n\t\t\t\tmove = this.findLine(\n\t\t\t\t\ttarRow,\n\t\t\t\t\ttarCol,\n\t\t\t\t\tmustBeInRow,\n\t\t\t\t\tmustBeInCol,\n\t\t\t\t\ttoken\n\t\t\t\t);\n\t\t\t}\n\t\t} else if (token === 'N') {\n\t\t\tmove = this.findKnight(\n\t\t\t\ttarRow,\n\t\t\t\ttarCol,\n\t\t\t\tmustBeInRow,\n\t\t\t\tmustBeInCol,\n\t\t\t\ttoken\n\t\t\t);\n\t\t}\n\t\tif (move.from[0] === -1) {\n\t\t\tconsole.log(\n\t\t\t\t`Error: no piece for move ${token} to (${tarRow},${tarCol}) found!`\n\t\t\t);\n\t\t\tconsole.log(this.cntGames);\n\t\t\tconsole.log(this.currentMove);\n\t\t\tthis.board.printPosition();\n\t\t}\n\n\t\treturn move;\n\t}\n\n\t/**\n\t * Search algorithm to find a piece that can move diagonally.\n\t * @param {number} tarRow Target row for piece move.\n\t * @param {number} tarCol Target column for piece move.\n\t * @param {number} mustBeInRow Moving piece must be in this row. '-1' if unknown.\n\t * @param {number} mustBeInCol Moving piece must be in this column. '-1' if unknown.\n\t * @param {string} token Moving piece must be of this type, e.g 'R'.\n\t * @returns {Object}\n\t */\n\tfindDiag(tarRow, tarCol, mustBeInRow, mustBeInCol, token) {\n\t\tconst color = this.currentMove.player;\n\n\t\tconst from = [];\n\t\tconst to = [];\n\t\tfrom[0] = -1;\n\t\tfrom[1] = -1;\n\t\tto[0] = tarRow;\n\t\tto[1] = tarCol;\n\n\t\tfor (let i = -1; i <= 1; i += 2) {\n\t\t\tlet obstructed1 = false;\n\t\t\tlet obstructed2 = false;\n\t\t\tfor (let j = 1; j < 8; j += 1) {\n\t\t\t\tconst row1 = to[0] + i * j;\n\t\t\t\tconst col1 = to[1] + j;\n\t\t\t\tconst row2 = to[0] - i * j;\n\t\t\t\tconst col2 = to[1] - j;\n\n\t\t\t\tif (\n\t\t\t\t\t!obstructed1 &&\n\t\t\t\t\trow1 >= 0 &&\n\t\t\t\t\trow1 < 8 &&\n\t\t\t\t\tcol1 >= 0 &&\n\t\t\t\t\tcol1 < 8 &&\n\t\t\t\t\tthis.board.tiles[row1][col1] !== null\n\t\t\t\t) {\n\t\t\t\t\tconst piece = this.board.tiles[row1][col1];\n\t\t\t\t\tif (\n\t\t\t\t\t\tpiece.name.includes(token) &&\n\t\t\t\t\t\tpiece.color === color &&\n\t\t\t\t\t\t(mustBeInRow === -1 || row1 === mustBeInRow) &&\n\t\t\t\t\t\t(mustBeInCol === -1 || col1 === mustBeInCol)\n\t\t\t\t\t) {\n\t\t\t\t\t\tif (!this.checkCheck([row1, col1], [to[0], to[1]])) {\n\t\t\t\t\t\t\tfrom[0] = row1;\n\t\t\t\t\t\t\tfrom[1] = col1;\n\t\t\t\t\t\t\treturn { from, to };\n\t\t\t\t\t\t}\n\t\t\t\t\t} else {\n\t\t\t\t\t\tobstructed1 = true;\n\t\t\t\t\t}\n\t\t\t\t}\n\n\t\t\t\tif (\n\t\t\t\t\t!obstructed2 &&\n\t\t\t\t\trow2 >= 0 &&\n\t\t\t\t\trow2 < 8 &&\n\t\t\t\t\tcol2 >= 0 &&\n\t\t\t\t\tcol2 < 8 &&\n\t\t\t\t\tthis.board.tiles[row2][col2] !== null\n\t\t\t\t) {\n\t\t\t\t\tconst piece = this.board.tiles[row2][col2];\n\t\t\t\t\tif (\n\t\t\t\t\t\tpiece.name.includes(token) &&\n\t\t\t\t\t\tpiece.color === color &&\n\t\t\t\t\t\t(mustBeInRow === -1 || row2 === mustBeInRow) &&\n\t\t\t\t\t\t(mustBeInCol === -1 || col2 === mustBeInCol)\n\t\t\t\t\t) {\n\t\t\t\t\t\tif (!this.checkCheck([row2, col2], [to[0], to[1]])) {\n\t\t\t\t\t\t\tfrom[0] = row2;\n\t\t\t\t\t\t\tfrom[1] = col2;\n\t\t\t\t\t\t\treturn { from, to };\n\t\t\t\t\t\t}\n\t\t\t\t\t} else {\n\t\t\t\t\t\tobstructed2 = true;\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t\treturn { from, to };\n\t}\n\n\t/**\n\t * Search algorithm to find a piece that can move vertically/horizontally.\n\t * @param {number} tarRow Target row for piece move.\n\t * @param {number} tarCol Target column for piece move.\n\t * @param {number} mustBeInRow Moving piece must be in this row. '-1' if unknown.\n\t * @param {number} mustBeInCol Moving piece must be in this column. '-1' if unknown.\n\t * @param {string} token Moving piece must be of this type, e.g 'R'.\n\t * @returns {Object}\n\t */\n\tfindLine(tarRow, tarCol, mustBeInRow, mustBeInCol, token) {\n\t\tconst color = this.currentMove.player;\n\t\tconst from = [];\n\t\tconst to = [];\n\t\tfrom[0] = -1;\n\t\tfrom[1] = -1;\n\t\tto[0] = tarRow;\n\t\tto[1] = tarCol;\n\n\t\tfor (let i = -1; i <= 1; i += 2) {\n\t\t\tlet obstructed1 = false;\n\t\t\tlet obstructed2 = false;\n\t\t\tfor (let j = 1; j < 8; j += 1) {\n\t\t\t\tconst row1 = to[0];\n\t\t\t\tconst col1 = to[1] - i * j;\n\t\t\t\tconst row2 = to[0] - i * j;\n\t\t\t\tconst col2 = to[1];\n\n\t\t\t\tif (\n\t\t\t\t\t!obstructed1 &&\n\t\t\t\t\trow1 >= 0 &&\n\t\t\t\t\trow1 < 8 &&\n\t\t\t\t\tcol1 >= 0 &&\n\t\t\t\t\tcol1 < 8 &&\n\t\t\t\t\tthis.board.tiles[row1][col1] !== null\n\t\t\t\t) {\n\t\t\t\t\tconst piece = this.board.tiles[row1][col1];\n\t\t\t\t\tif (\n\t\t\t\t\t\tpiece.name.includes(token) &&\n\t\t\t\t\t\tpiece.color === color &&\n\t\t\t\t\t\t(mustBeInRow === -1 || row1 === mustBeInRow) &&\n\t\t\t\t\t\t(mustBeInCol === -1 || col1 === mustBeInCol)\n\t\t\t\t\t) {\n\t\t\t\t\t\tif (!this.checkCheck([row1, col1], [to[0], to[1]])) {\n\t\t\t\t\t\t\tfrom[0] = row1;\n\t\t\t\t\t\t\tfrom[1] = col1;\n\t\t\t\t\t\t\treturn { from, to };\n\t\t\t\t\t\t}\n\t\t\t\t\t} else {\n\t\t\t\t\t\tobstructed1 = true;\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t\tif (\n\t\t\t\t\t!obstructed2 &&\n\t\t\t\t\trow2 >= 0 &&\n\t\t\t\t\trow2 < 8 &&\n\t\t\t\t\tcol2 >= 0 &&\n\t\t\t\t\tcol2 < 8 &&\n\t\t\t\t\tthis.board.tiles[row2][col2] !== null\n\t\t\t\t) {\n\t\t\t\t\tconst piece = this.board.tiles[row2][col2];\n\t\t\t\t\tif (\n\t\t\t\t\t\tpiece.name.includes(token) &&\n\t\t\t\t\t\tpiece.color === color &&\n\t\t\t\t\t\t(mustBeInRow === -1 || row2 === mustBeInRow) &&\n\t\t\t\t\t\t(mustBeInCol === -1 || col2 === mustBeInCol)\n\t\t\t\t\t) {\n\t\t\t\t\t\tif (!this.checkCheck([row2, col2], [to[0], to[1]])) {\n\t\t\t\t\t\t\tfrom[0] = row2;\n\t\t\t\t\t\t\tfrom[1] = col2;\n\t\t\t\t\t\t\treturn { from, to };\n\t\t\t\t\t\t}\n\t\t\t\t\t} else {\n\t\t\t\t\t\tobstructed2 = true;\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t\treturn { from, to };\n\t}\n\n\t/**\n\t * Search algorithm to find a matching knight.\n\t * @param {number} tarRow Target row for piece move.\n\t * @param {number} tarCol Target column for piece move.\n\t * @param {number} mustBeInRow Moving piece must be in this row. '-1' if unknown.\n\t * @param {number} mustBeInCol Moving piece must be in this column. '-1' if unknown.\n\t * @param {string} token Moving piece must be of this type, e.g 'R'.\n\t * @returns {Object}\n\t */\n\tfindKnight(tarRow, tarCol, mustBeInRow, mustBeInCol, token) {\n\t\tconst color = this.currentMove.player;\n\t\tconst from = [];\n\t\tconst to = [];\n\t\tfrom[0] = -1;\n\t\tfrom[1] = -1;\n\t\tto[0] = tarRow;\n\t\tto[1] = tarCol;\n\n\t\tfor (let i = -2; i <= 2; i += 4) {\n\t\t\tfor (let j = -1; j <= 1; j += 2) {\n\t\t\t\tconst row1 = to[0] + i;\n\t\t\t\tconst col1 = to[1] + j;\n\t\t\t\tconst row2 = to[0] + j;\n\t\t\t\tconst col2 = to[1] + i;\n\t\t\t\tif (\n\t\t\t\t\trow1 >= 0 &&\n\t\t\t\t\trow1 < 8 &&\n\t\t\t\t\tcol1 >= 0 &&\n\t\t\t\t\tcol1 < 8 &&\n\t\t\t\t\tthis.board.tiles[row1][col1] !== null\n\t\t\t\t) {\n\t\t\t\t\tconst piece = this.board.tiles[row1][col1];\n\t\t\t\t\tif (\n\t\t\t\t\t\tpiece.name.includes(token) &&\n\t\t\t\t\t\tpiece.color === color &&\n\t\t\t\t\t\t(mustBeInRow === -1 || row1 === mustBeInRow) &&\n\t\t\t\t\t\t(mustBeInCol === -1 || col1 === mustBeInCol)\n\t\t\t\t\t) {\n\t\t\t\t\t\tif (!this.checkCheck([row1, col1], [to[0], to[1]])) {\n\t\t\t\t\t\t\tfrom[0] = row1;\n\t\t\t\t\t\t\tfrom[1] = col1;\n\t\t\t\t\t\t\treturn { from, to };\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t\tif (\n\t\t\t\t\trow2 >= 0 &&\n\t\t\t\t\trow2 < 8 &&\n\t\t\t\t\tcol2 >= 0 &&\n\t\t\t\t\tcol2 < 8 &&\n\t\t\t\t\tthis.board.tiles[row2][col2] !== null\n\t\t\t\t) {\n\t\t\t\t\tconst piece = this.board.tiles[row2][col2];\n\t\t\t\t\tif (\n\t\t\t\t\t\tpiece.name.includes(token) &&\n\t\t\t\t\t\tpiece.color === color &&\n\t\t\t\t\t\t(mustBeInRow === -1 || row2 === mustBeInRow) &&\n\t\t\t\t\t\t(mustBeInCol === -1 || col2 === mustBeInCol)\n\t\t\t\t\t) {\n\t\t\t\t\t\tif (!this.checkCheck([row2, col2], [to[0], to[1]])) {\n\t\t\t\t\t\t\tfrom[0] = row2;\n\t\t\t\t\t\t\tfrom[1] = col2;\n\t\t\t\t\t\t\treturn { from, to };\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t\treturn { from, to };\n\t}\n\n\t/**\n\t * Checks if the input move would be resulting with the king being in check.\n\t * @param {Number[]} from Coordinates of the source tile of the move that shall be checked.\n\t *  @param {Number[]} to Coordinates of the target tile of the move that shall be checked.\n\t * @returns {boolean} After the move, the king will be in check true/false.\n\t */\n\tcheckCheck(from, to) {\n\t\tconst color = this.currentMove.player;\n\t\tconst opColor = this.currentMove.player === 'w' ? 'b' : 'w';\n\t\tconst king = this.board.kingPos[color];\n\t\tlet isInCheck = false;\n\n\t\t// if king move, no check is possible, exit function\n\t\tif (king[0] === from[0] && king[1] === from[1]) return false;\n\n\t\t// check if moving piece is on same line/diag as king, else exit\n\t\tconst diff = [];\n\t\tdiff[0] = from[0] - king[0];\n\t\tdiff[1] = from[1] - king[1];\n\t\tconst checkFor = [];\n\t\tif (diff[0] === 0 || diff[1] === 0) {\n\t\t\tcheckFor[0] = 'Q';\n\t\t\tcheckFor[1] = 'R';\n\t\t} else if (Math.abs(diff[0]) === Math.abs(diff[1])) {\n\t\t\tcheckFor[0] = 'Q';\n\t\t\tcheckFor[1] = 'B';\n\t\t} else {\n\t\t\treturn false;\n\t\t}\n\t\tif (diff[0] !== 0) diff[0] /= Math.abs(diff[0]);\n\t\tif (diff[1] !== 0) diff[1] /= Math.abs(diff[1]);\n\n\t\tconst srcTilePiece = this.board.tiles[from[0]][from[1]];\n\t\tconst tarTilePiece = this.board.tiles[to[0]][to[1]];\n\n\t\t// premove and check if check\n\t\tthis.board.tiles[from[0]][from[1]] = null;\n\t\tthis.board.tiles[to[0]][to[1]] = srcTilePiece;\n\n\t\t// check for check\n\t\tlet obstructed = false;\n\t\tfor (let j = 1; j < 8 && !isInCheck && !obstructed; j += 1) {\n\t\t\tconst row = king[0] + j * diff[0];\n\t\t\tconst col = king[1] + j * diff[1];\n\n\t\t\tif (\n\t\t\t\trow >= 0 &&\n\t\t\t\trow < 8 &&\n\t\t\t\tcol >= 0 &&\n\t\t\t\tcol < 8 &&\n\t\t\t\tthis.board.tiles[row][col] !== null\n\t\t\t) {\n\t\t\t\tconst piece = this.board.tiles[row][col];\n\t\t\t\tif (\n\t\t\t\t\t(piece.name.includes(checkFor[0]) ||\n\t\t\t\t\t\tpiece.name.includes(checkFor[1])) &&\n\t\t\t\t\tpiece.color === opColor\n\t\t\t\t) {\n\t\t\t\t\tisInCheck = true;\n\t\t\t\t} else {\n\t\t\t\t\tobstructed = true;\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\n\t\tthis.board.tiles[from[0]][from[1]] = srcTilePiece;\n\t\tthis.board.tiles[to[0]][to[1]] = tarTilePiece;\n\n\t\treturn isInCheck;\n\t}\n\n\tstatic algebraicToCoords(square) {\n\t\tconst coords = [];\n\t\tconst temp = square.split('');\n\t\tcoords.push(8 - temp[1]);\n\t\tcoords.push(files.indexOf(temp[0]));\n\n\t\treturn coords;\n\t}\n\n\tstatic coordsToAlgebraic(coords) {\n\t\tlet name = files[coords[1]];\n\t\tname += 8 - coords[0];\n\n\t\treturn name;\n\t}\n\n\t/**\n\t * Removes special characters like '#', '+', '?' and '!'\n\t * @param {string} move The move to be cleaned up\n\t * @returns {string} The input string with removed special characters\n\t */\n\tstatic preProcess(move) {\n\t\treturn move.replace(/#|\\+|\\?|!/g, '');\n\t}\n}\n\nexport default GameProcessor;\n","import BaseTracker from './BaseTracker';\n\nclass GameTracker extends BaseTracker {\n\tconstructor() {\n\t\tsuper();\n\t\tthis.wins = [0, 0, 0];\n\t}\n\n\ttrack(game) {\n\t\tthis.startTimer();\n\t\tswitch (game.Result) {\n\t\t\tcase '1-0':\n\t\t\t\tthis.wins[0] += 1;\n\t\t\t\tbreak;\n\n\t\t\tcase '1/2-1/2':\n\t\t\t\tthis.wins[1] += 1;\n\t\t\t\tbreak;\n\n\t\t\tcase '0-1':\n\t\t\t\tthis.wins[2] += 1;\n\t\t\t\tbreak;\n\n\t\t\tdefault:\n\t\t\t\tbreak;\n\t\t}\n\t\tthis.endTimer();\n\t}\n}\n\nexport default GameTracker;\n","import BaseTracker from './BaseTracker';\n\nconst pawnTemplate = ['Pa', 'Pb', 'Pc', 'Pd', 'Pe', 'Pf', 'Pg', 'Ph'];\nconst pieceTemplate = ['Ra', 'Nb', 'Bc', 'Qd', 'Ke', 'Bf', 'Ng', 'Rh'];\n\nclass PieceTracker extends BaseTracker {\n\tconstructor() {\n\t\tsuper();\n\t\tthis.b = {};\n\t\tthis.w = {};\n\n\t\t// first layer\n\t\tpawnTemplate.forEach((val) => {\n\t\t\tthis.w[val] = {};\n\t\t\tthis.b[val] = {};\n\t\t});\n\t\tpieceTemplate.forEach((val) => {\n\t\t\tthis.w[val] = {};\n\t\t\tthis.b[val] = {};\n\t\t});\n\n\t\t// second layer\n\t\tObject.keys(this.w).forEach((key) => {\n\t\t\tpawnTemplate.forEach((val) => {\n\t\t\t\tthis.w[key][val] = 0;\n\t\t\t\tthis.b[key][val] = 0;\n\t\t\t});\n\t\t\tpieceTemplate.forEach((val) => {\n\t\t\t\tthis.w[key][val] = 0;\n\t\t\t\tthis.b[key][val] = 0;\n\t\t\t});\n\t\t});\n\t}\n\n\ttrack(moveData) {\n\t\tthis.startTimer();\n\t\tconst { player } = moveData;\n\t\tconst { piece } = moveData;\n\t\tconst { takes } = moveData;\n\n\t\tif (takes.piece !== undefined) {\n\t\t\tif (piece.length > 1 && takes.piece.length > 1) {\n\t\t\t\tthis.processTakes(player, piece, takes.piece);\n\t\t\t}\n\t\t}\n\t\tthis.endTimer();\n\t}\n\n\tprocessTakes(player, takingPiece, takenPiece) {\n\t\tthis[player][takingPiece][takenPiece] += 1;\n\t}\n}\nexport default PieceTracker;\n","import BaseTracker from './BaseTracker';\n\nconst pawnTemplate = ['Pa', 'Pb', 'Pc', 'Pd', 'Pe', 'Pf', 'Pg', 'Ph'];\nconst pieceTemplate = ['Ra', 'Nb', 'Bc', 'Qd', 'Ke', 'Bf', 'Ng', 'Rh'];\n\nclass TileStats {\n\tconstructor() {\n\t\tthis.movedTo = 0;\n\t\tthis.wasOn = 0;\n\t\tthis.killedOn = 0;\n\t\tthis.wasKilledOn = 0;\n\t}\n}\n\nclass TileTracker extends BaseTracker {\n\tconstructor() {\n\t\tsuper();\n\t\tthis.tiles = new Array(8);\n\t\tfor (let row = 0; row < 8; row += 1) {\n\t\t\tconst currRow = new Array(8);\n\t\t\tfor (let col = 0; col < 8; col += 1) {\n\t\t\t\tcurrRow[col] = { b: {}, w: {} };\n\t\t\t\tcurrRow[col].b = new TileStats();\n\t\t\t\tcurrRow[col].w = new TileStats();\n\t\t\t\tpawnTemplate.forEach((val) => {\n\t\t\t\t\tcurrRow[col].b[val] = new TileStats();\n\t\t\t\t\tcurrRow[col].w[val] = new TileStats();\n\t\t\t\t});\n\t\t\t\tpieceTemplate.forEach((val) => {\n\t\t\t\t\tcurrRow[col].b[val] = new TileStats();\n\t\t\t\t\tcurrRow[col].w[val] = new TileStats();\n\t\t\t\t});\n\t\t\t}\n\t\t\tthis.tiles[row] = currRow;\n\t\t}\n\n\t\t// this.alivePieces = {};\n\t\t// pawnTemplate.forEach((val, i) => {\n\t\t// \tthis.alivePieces[`b${val}`] = [1, i];\n\t\t// \tthis.alivePieces[`w${val}`] = [6, i];\n\t\t// });\n\t\t// pieceTemplate.forEach((val, i) => {\n\t\t// \tthis.alivePieces[`b${val}`] = [0, i];\n\t\t// \tthis.alivePieces[`w${val}`] = [7, i];\n\t\t// });\n\t}\n\n\ttrack(moveData) {\n\t\tthis.startTimer();\n\n\t\tconst { to } = moveData;\n\t\tconst { player } = moveData;\n\t\tconst { piece } = moveData;\n\t\tconst { takes } = moveData;\n\t\tconst { castles } = moveData;\n\n\t\t// move\n\t\tif (to[0] !== -1) {\n\t\t\tthis.processMove(to, player, piece);\n\n\t\t\tif (takes.piece !== undefined) {\n\t\t\t\tthis.processTakes(takes.pos, player, piece, takes.piece);\n\t\t\t}\n\n\t\t\t// this.processOccupation();\n\n\t\t\t// castle\n\t\t} else if (castles !== '') {\n\t\t\tconst row = player === 'w' ? 7 : 0;\n\t\t\tlet rook = 'Rh';\n\t\t\tlet tarKingCol = 6;\n\t\t\tlet tarRookCol = 5;\n\t\t\tif (castles === 'O-O-O') {\n\t\t\t\ttarKingCol = 2;\n\t\t\t\ttarRookCol = 3;\n\t\t\t\trook = 'Ra';\n\t\t\t}\n\t\t\tthis.processMove([row, tarKingCol], player, 'Ke');\n\t\t\tthis.processMove([row, tarRookCol], player, rook);\n\n\t\t\t// this.processOccupation();\n\n\t\t\t// game end\n\t\t} else {\n\t\t\t// this.alivePieces = {};\n\t\t\t// for (let i = 0; i < 8; i += 1) {\n\t\t\t// \tthis.alivePieces[`b${pieceTemplate[i]}`] = [0, i];\n\t\t\t// \tthis.alivePieces[`b${pawnTemplate[i]}`] = [1, i];\n\t\t\t// \tthis.alivePieces[`w${pawnTemplate[i]}`] = [6, i];\n\t\t\t// \tthis.alivePieces[`w${pieceTemplate[i]}`] = [7, i];\n\t\t\t// }\n\t\t}\n\t\tthis.endTimer();\n\t}\n\n\tprocessMove(to, player, piece) {\n\t\tif (piece.length > 1) {\n\t\t\tthis.tiles[to[0]][to[1]][player].movedTo += 1;\n\t\t\tthis.tiles[to[0]][to[1]][player][piece].movedTo += 1;\n\t\t\t// this.alivePieces[player + piece] = to;\n\t\t}\n\t}\n\n\tprocessTakes(pos, player, takingPiece, takenPiece) {\n\t\tif (takingPiece.length > 1 && takenPiece.length > 1) {\n\t\t\tconst opPlayer = player === 'w' ? 'b' : 'w';\n\t\t\tthis.tiles[pos[0]][pos[1]][player].killedOn += 1;\n\t\t\tthis.tiles[pos[0]][pos[1]][player][takingPiece].killedOn += 1;\n\t\t\tthis.tiles[pos[0]][pos[1]][opPlayer].wasKilledOn += 1;\n\t\t\tthis.tiles[pos[0]][pos[1]][opPlayer][takenPiece].wasKilledOn += 1;\n\t\t\t// if (takenPiece.length > 1) {\n\t\t\t// \tdelete this.alivePieces[opPlayer + takenPiece];\n\t\t\t// }\n\t\t}\n\t}\n\n\t// processOccupation() {\n\t// \t// console.log(Object.keys(this.alivePieces.b).length);\n\t// \tObject.keys(this.alivePieces).forEach((val) => {\n\t// \t\tconst pos = this.alivePieces[val];\n\t// \t\tconst player = val.substring(0, 1);\n\t// \t\tconst piece = val.substring(1, 3);\n\t// \t\tthis.tiles[pos[0]][pos[1]][player].wasOn += 1;\n\t// \t\tthis.tiles[pos[0]][pos[1]][player][piece].wasOn += 1;\n\t// \t});\n\t// }\n}\n\nexport default TileTracker;\n","/* eslint-disable */\r\nimport Chessalyzer from './Chessalyzer';\r\n\r\nexport default Chessalyzer;\r\n","module.exports = require(\"events\");","module.exports = require(\"fs\");","module.exports = require(\"line-by-line\");","module.exports = require(\"perf_hooks\");"],"sourceRoot":""}